pipeline {
  agent none
   triggers {
    cron '* * * * *'
    pollSCM '* * * * *'
 }
  environment {}
   parameters {
    booleanParam defaultValue: true, name: 'my_bool'
    choice choices: ['UAT', 'PROD', 'DEV'], name: 'ENV'
    string defaultValue: 'BhavaniShankar.N', name: 'name'
 }
   stages {
    stage('Stage-1') {
      agent {label 'Master'}
        steps {
          git branch: main, url: 'https://github.com/brad-jivedh/Jenkins.git'
        }
    } 
}
     stage('Stage-2') {
       agent {label 'Master'}
        steps {
          echo "Hello everyone"
           sh 'My name is $name'
           sh 'The Environment on which the build is running is $ENV'
           sh 'The delfault boolean value is $my_bool'
    }
 }
 post {
  success {
    echo "Stage-2 succesfully executed"
  }
}
   stage('Stage-3') {
    agent {label 'Slave_node'}
     steps {
       sh "the Job name is ${env.JOB_NAME} with the build number ${env.BUILD_ID} and the jenkins url is ${env.JENKINS_URL}" 
   }
}
post {
  success {
    echo "Stage-3 succesfully executed"
  }
}
     stage('Stage-4') {
       agent {label 'Slave_node'}
         steps {
          echo "this is the last stage"
    }
 }
}
